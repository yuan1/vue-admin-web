{"version":3,"sources":["webpack:///./src/views/system/user/UserAdd.vue?ed86","webpack:///src/views/system/user/UserAdd.vue","webpack:///./src/views/system/user/UserAdd.vue?f6f1","webpack:///./src/views/system/user/UserAdd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","height","overflow","padding-bottom","attrs","title","maskClosable","width","placement","closable","visible","userAddVisiable","on","close","onClose","form","_b","label","validateStatus","help","formItemLayout","directives","name","rawName","value","rules","required","message","expression","blur","handleUserNameBlur","model","user","callback","$$v","$set","type","readOnly","defaultPassword","max","pattern","mode","allowClear","_l","r","key","roleId","_v","_s","roleName","dropdownStyle","maxHeight","treeData","deptTreeData","staticClass","okText","cancelText","confirm","margin-right","loading","click","handleSubmit","staticRenderFns","labelCol","span","wrapperCol","UserAddvue_type_script_lang_js_","props","default","data","username","roleData","$form","createForm","methods","reset","resetFields","$emit","_this","validateFields","err","values","join","$post","Object","objectSpread","then","catch","_this2","trim","length","$get","concat","watch","_this3","rows","children","user_UserAddvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"assets/js/chunk-2d0ac59c.42e4996e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-drawer',{staticStyle:{\"height\":\"calc(100% - 55px)\",\"overflow\":\"auto\",\"padding-bottom\":\"53px\"},attrs:{\"title\":\"新增用户\",\"maskClosable\":false,\"width\":\"650\",\"placement\":\"right\",\"closable\":false,\"visible\":_vm.userAddVisiable},on:{\"close\":_vm.onClose}},[_c('a-form',{attrs:{\"form\":_vm.form}},[_c('a-form-item',_vm._b({attrs:{\"label\":\"用户名\",\"validateStatus\":_vm.validateStatus,\"help\":_vm.help}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['username',{rules: [{ required: true, message: '用户名不能为空'}]}]),expression:\"['username',{rules: [{ required: true, message: '用户名不能为空'}]}]\"}],on:{\"blur\":_vm.handleUserNameBlur},model:{value:(_vm.user.username),callback:function ($$v) {_vm.$set(_vm.user, \"username\", $$v)},expression:\"user.username\"}})],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"密码\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-tooltip',{attrs:{\"title\":\"新用户默认密码为 1234qwer\"}},[_c('a-input',{attrs:{\"type\":\"password\",\"readOnly\":\"\",\"value\":_vm.defaultPassword}})],1)],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"邮箱\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['email',{rules: [\n        { type: 'email', message: '请输入正确的邮箱' },\n        { max: 50, message: '长度不能超过50个字符'}\n      ]}]),expression:\"['email',{rules: [\\n        { type: 'email', message: '请输入正确的邮箱' },\\n        { max: 50, message: '长度不能超过50个字符'}\\n      ]}]\"}],model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"手机\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['mobile', {rules: [\n        { pattern: '^0?(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]{8}$', message: '请输入正确的手机号'}\n      ]}]),expression:\"['mobile', {rules: [\\n        { pattern: '^0?(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]{8}$', message: '请输入正确的手机号'}\\n      ]}]\"}],model:{value:(_vm.user.mobile),callback:function ($$v) {_vm.$set(_vm.user, \"mobile\", $$v)},expression:\"user.mobile\"}})],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"角色\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['role',{rules: [{ required: true, message: '请选择角色' }]}]),expression:\"['role',{rules: [{ required: true, message: '请选择角色' }]}]\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"mode\":\"multiple\",\"allowClear\":true},model:{value:(_vm.user.roleId),callback:function ($$v) {_vm.$set(_vm.user, \"roleId\", $$v)},expression:\"user.roleId\"}},_vm._l((_vm.roleData),function(r){return _c('a-select-option',{key:r.roleId},[_vm._v(_vm._s(r.roleName))])}),1)],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"部门\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-tree-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['deptId']),expression:\"['deptId']\"}],attrs:{\"allowClear\":true,\"dropdownStyle\":{ maxHeight: '220px', overflow: 'auto' },\"treeData\":_vm.deptTreeData},model:{value:(_vm.user.deptId),callback:function ($$v) {_vm.$set(_vm.user, \"deptId\", $$v)},expression:\"user.deptId\"}})],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"状态\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-radio-group',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['status',{rules: [{ required: true, message: '请选择状态'}]}]),expression:\"['status',{rules: [{ required: true, message: '请选择状态'}]}]\"}],model:{value:(_vm.user.status),callback:function ($$v) {_vm.$set(_vm.user, \"status\", $$v)},expression:\"user.status\"}},[_c('a-radio',{attrs:{\"value\":\"0\"}},[_vm._v(\"锁定\")]),_c('a-radio',{attrs:{\"value\":\"1\"}},[_vm._v(\"有效\")])],1)],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"性别\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-radio-group',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['ssex',{rules: [{ required: true, message: '请选择性别' }]}]),expression:\"['ssex',{rules: [{ required: true, message: '请选择性别' }]}]\"}],model:{value:(_vm.user.ssex),callback:function ($$v) {_vm.$set(_vm.user, \"ssex\", $$v)},expression:\"user.ssex\"}},[_c('a-radio',{attrs:{\"value\":\"0\"}},[_vm._v(\"男\")]),_c('a-radio',{attrs:{\"value\":\"1\"}},[_vm._v(\"女\")]),_c('a-radio',{attrs:{\"value\":\"2\"}},[_vm._v(\"保密\")])],1)],1)],1),_c('div',{staticClass:\"drawer-bootom-button\"},[_c('a-popconfirm',{attrs:{\"title\":\"确定放弃编辑？\",\"okText\":\"确定\",\"cancelText\":\"取消\"},on:{\"confirm\":_vm.onClose}},[_c('a-button',{staticStyle:{\"margin-right\":\".8rem\"}},[_vm._v(\"取消\")])],1),_c('a-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <a-drawer\n            title=\"新增用户\"\n            :maskClosable=\"false\"\n            width=650\n            placement=\"right\"\n            :closable=\"false\"\n            @close=\"onClose\"\n            :visible=\"userAddVisiable\"\n            style=\"height: calc(100% - 55px);overflow: auto;padding-bottom: 53px;\">\n        <a-form :form=\"form\">\n            <a-form-item label='用户名'\n                         v-bind=\"formItemLayout\"\n                         :validateStatus=\"validateStatus\"\n                         :help=\"help\">\n                <a-input v-model=\"user.username\"\n                         @blur=\"handleUserNameBlur\"\n                         v-decorator=\"['username',{rules: [{ required: true, message: '用户名不能为空'}]}]\"/>\n            </a-form-item>\n            <a-form-item label='密码' v-bind=\"formItemLayout\">\n                <a-tooltip title='新用户默认密码为 1234qwer'>\n                    <a-input type='password' readOnly :value=\"defaultPassword\"/>\n                </a-tooltip>\n            </a-form-item>\n            <a-form-item label='邮箱' v-bind=\"formItemLayout\">\n                <a-input\n                        v-model=\"user.email\"\n                        v-decorator=\"['email',{rules: [\n            { type: 'email', message: '请输入正确的邮箱' },\n            { max: 50, message: '长度不能超过50个字符'}\n          ]}]\"/>\n            </a-form-item>\n            <a-form-item label=\"手机\" v-bind=\"formItemLayout\">\n                <a-input\n                        v-model=\"user.mobile\"\n                        v-decorator=\"['mobile', {rules: [\n            { pattern: '^0?(13[0-9]|15[012356789]|17[013678]|18[0-9]|14[57])[0-9]{8}$', message: '请输入正确的手机号'}\n          ]}]\"/>\n            </a-form-item>\n            <a-form-item label='角色' v-bind=\"formItemLayout\">\n                <a-select\n                        mode=\"multiple\"\n                        :allowClear=\"true\"\n                        v-model=\"user.roleId\"\n                        style=\"width: 100%\"\n                        v-decorator=\"['role',{rules: [{ required: true, message: '请选择角色' }]}]\">\n                    <a-select-option v-for=\"r in roleData\" :key=\"r.roleId\">{{r.roleName}}</a-select-option>\n                </a-select>\n            </a-form-item>\n            <a-form-item label='部门' v-bind=\"formItemLayout\">\n                <a-tree-select\n                        :allowClear=\"true\"\n                        :dropdownStyle=\"{ maxHeight: '220px', overflow: 'auto' }\"\n                        :treeData=\"deptTreeData\"\n                        v-decorator=\"['deptId']\"\n                        v-model=\"user.deptId\">\n                </a-tree-select>\n            </a-form-item>\n            <a-form-item label='状态' v-bind=\"formItemLayout\">\n                <a-radio-group\n                        v-model=\"user.status\"\n                        v-decorator=\"['status',{rules: [{ required: true, message: '请选择状态'}]}]\">\n                    <a-radio value=\"0\">锁定</a-radio>\n                    <a-radio value=\"1\">有效</a-radio>\n                </a-radio-group>\n            </a-form-item>\n            <a-form-item label='性别' v-bind=\"formItemLayout\">\n                <a-radio-group\n                        v-model=\"user.ssex\"\n                        v-decorator=\"['ssex',{rules: [{ required: true, message: '请选择性别' }]}]\">\n                    <a-radio value=\"0\">男</a-radio>\n                    <a-radio value=\"1\">女</a-radio>\n                    <a-radio value=\"2\">保密</a-radio>\n                </a-radio-group>\n            </a-form-item>\n        </a-form>\n        <div class=\"drawer-bootom-button\">\n            <a-popconfirm title=\"确定放弃编辑？\" @confirm=\"onClose\" okText=\"确定\" cancelText=\"取消\">\n                <a-button style=\"margin-right: .8rem\">取消</a-button>\n            </a-popconfirm>\n            <a-button @click=\"handleSubmit\" type=\"primary\" :loading=\"loading\">提交</a-button>\n        </div>\n    </a-drawer>\n</template>\n<script>\n    const formItemLayout = {\n        labelCol: {span: 3},\n        wrapperCol: {span: 18}\n    }\n    export default {\n        name: 'UserAdd',\n        props: {\n            userAddVisiable: {\n                default: false\n            }\n        },\n        data() {\n            return {\n                user: {\n                    username: ''\n                },\n                loading: false,\n                roleData: [],\n                deptTreeData: [],\n                formItemLayout,\n                defaultPassword: '1234qwer',\n                form: this.$form.createForm(this),\n                validateStatus: '',\n                help: ''\n            }\n        },\n        methods: {\n            reset() {\n                this.validateStatus = ''\n                this.help = ''\n                this.user.username = ''\n                this.loading = false\n                this.form.resetFields()\n            },\n            onClose() {\n                this.reset()\n                this.$emit('close')\n            },\n            handleSubmit() {\n                if (this.validateStatus !== 'success') {\n                    this.handleUserNameBlur()\n                }\n                this.form.validateFields((err, values) => {\n                    if (!err && this.validateStatus === 'success') {\n                        this.loading = true\n                        this.user.roleId = this.user.roleId.join(',')\n                        this.$post('user', {\n                            ...this.user\n                        }).then((r) => {\n                            this.reset()\n                            this.$emit('success')\n                        }).catch(() => {\n                            this.loading = false\n                        })\n                    }\n                })\n            },\n            handleUserNameBlur() {\n                let username = this.user.username.trim()\n                if (username.length) {\n                    if (username.length > 10) {\n                        this.validateStatus = 'error'\n                        this.help = '用户名不能超过10个字符'\n                    } else if (username.length < 4) {\n                        this.validateStatus = 'error'\n                        this.help = '用户名不能少于4个字符'\n                    } else {\n                        this.validateStatus = 'validating'\n                        this.$get(`user/check/${username}`).then((r) => {\n                            if (r.data) {\n                                this.validateStatus = 'success'\n                                this.help = ''\n                            } else {\n                                this.validateStatus = 'error'\n                                this.help = '抱歉，该用户名已存在'\n                            }\n                        })\n                    }\n                } else {\n                    this.validateStatus = 'error'\n                    this.help = '用户名不能为空'\n                }\n            }\n        },\n        watch: {\n            userAddVisiable() {\n                if (this.userAddVisiable) {\n                    this.$get('role').then((r) => {\n                        this.roleData = r.data.rows\n                    })\n                    this.$get('dept').then((r) => {\n                        this.deptTreeData = r.data.rows.children\n                    })\n                }\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserAdd.vue?vue&type=template&id=3f253b7b&\"\nimport script from \"./UserAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}