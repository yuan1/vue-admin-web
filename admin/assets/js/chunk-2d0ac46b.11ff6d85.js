(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac46b"],{"199f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%","margin-top":"1rem"}},[a("a-row",{attrs:{gutter:8}},[a("a-col",{attrs:{span:12}},[a("apexchart",{ref:"memoryInfo",attrs:{type:"area",height:"350",options:e.memory.chartOptions,series:e.memory.series}})],1),a("a-col",{attrs:{span:12}},[a("apexchart",{ref:"keySize",attrs:{type:"area",height:"350",options:e.key.chartOptions,series:e.key.series}})],1)],1),a("a-row",{attrs:{gutter:8}},[a("a-divider",{attrs:{orientation:"left"}},[e._v("Redis详细信息")]),a("table",{staticStyle:{"border-bottom":"1px solid #f1f1f1"}},e._l(e.redisInfo,function(t,i){return a("tr",{key:i,staticStyle:{"border-top":"1px solid #f1f1f1"}},[a("td",{staticStyle:{padding:".7rem 1rem"}},[e._v(e._s(t.key))]),a("td",{staticStyle:{padding:".7rem 1rem"}},[e._v(e._s(t.description))]),a("td",{staticStyle:{padding:".7rem 1rem"}},[e._v(e._s(t.value))])])}),0)],1)],1)},r=[],s=a("bc3a"),n=a.n(s),o={name:"RedisInfo",data:function(){return{loading:!0,memory:{series:[],chartOptions:{chart:{animations:{enabled:!0,easing:"linear",dynamicAnimation:{speed:3e3}},toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth"},title:{text:"Redis内存实时占用情况（kb）",align:"left"},markers:{size:0},xaxis:{},yaxis:{},legend:{show:!1}},data:[],xdata:[]},key:{series:[],chartOptions:{chart:{animations:{enabled:!0,easing:"linear",dynamicAnimation:{speed:3e3}},toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},colors:["#f5564e"],stroke:{curve:"smooth"},title:{text:"Redis key实时数量（个）",align:"left"},markers:{size:0},xaxis:{},yaxis:{},legend:{show:!1}},data:[],xdata:[]},redisInfo:[],timer:null}},beforeDestroy:function(){this.timer&&clearInterval(this.timer)},mounted:function(){var e=this,t=1e10,a=1e10,i=-1e10,r=-1e10;this.timer=setInterval(function(){-1!==e.$route.path.indexOf("redis")&&n.a.all([e.$get("redis/keysSize"),e.$get("redis/memoryInfo")]).then(function(s){var n=s[1].data.used_memory/1e3,o=s[0].data.dbSize;n<t&&(t=n),n>i&&(i=n),o<a&&(a=o),o>r&&(r=o);var d=e.$moment().format("hh:mm:ss");e.memory.data.push(n),e.memory.xdata.push(d),e.key.data.push(o),e.key.xdata.push(d),e.memory.data.length>=6&&(e.memory.data.shift(),e.memory.xdata.shift()),e.key.data.length>=6&&(e.key.data.shift(),e.key.xdata.shift()),e.$refs.memoryInfo.updateSeries([{name:"内存(kb)",data:e.memory.data.slice()}]),e.$refs.memoryInfo.updateOptions({xaxis:{categories:e.memory.xdata.slice()},yaxis:{min:t,max:i}},!0,!0),e.$refs.keySize.updateSeries([{name:"key数量",data:e.key.data.slice()}]),e.$refs.keySize.updateOptions({xaxis:{categories:e.key.xdata.slice()},yaxis:{min:a-2,max:r+2}},!0,!0),e.loading&&(e.loading=!1)}).catch(function(t){console.error(t),e.$message.error("获取Redis信息失败"),e.timer&&clearInterval(e.timer)})},3e3),this.$get("redis/info").then(function(t){e.redisInfo=t.data.data})}},d=o,m=a("2877"),l=Object(m["a"])(d,i,r,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0ac46b.11ff6d85.js.map